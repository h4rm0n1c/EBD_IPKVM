# /opt reference notes for EBD_IPKVM

This note captures which resources under `/opt` are useful to EBD_IPKVM and how they relate to the existing documentation in `docs/`.

## /opt/MacDevDocs (classic Mac developer CD archives)

Relevant items for this project (compact Mac video output context, 128K through SE/30):

- Use the classic Mac developer notes and hardware references in this archive to cross-check video output timing, sync behavior, and monitor signaling for compact Macs (original Macintosh through SE/30). This complements the existing timing PDFs in `docs/mac_classic_video_capture_notes.md` by adding Apple-authored references for the same hardware family.
- The Macintosh Classic developer note explicitly lists /VSYNC and /HSYNC on the power/sweep connector alongside VIDOUT, making it a concrete Apple reference for sync wiring on compact Macs.
- The Macintosh Classic II developer note calls out 512×342 internal video and notes that timing is generated by the EAGLE gate array (with a timing figure for the 512×342 mode), which is useful when comparing classic timing numbers against Apple-authored sources.

## /opt/Pico-SDK (Raspberry Pi Pico SDK)

EBD_IPKVM is firmware-first and depends on the Pico SDK build structure and peripheral APIs (PIO, DMA, USB, timers). The SDK README outlines how projects are expected to import `pico_sdk_init()` and how PIO/USB features are structured. That aligns with this repo’s `src/` firmware and informs build assumptions documented in `README.md` and `docs/PROJECT_STATE.md`.

## /opt/PicoHTTPServer (Pico W captive portal example)

This example project provides a memory-efficient HTTP server, DHCP/DNS captive portal flow, and a simple static file packer for Pico W. Those components are relevant if/when the KVM firmware needs an onboard configuration UI or status page reachable via Wi‑Fi. The `README.md` also details how requests are streamed in small buffers (4KB window) and how responses can be emitted incrementally, which is useful given the RP2040’s RAM limits.

## /opt/SigrokPico (sigrok/pulseview Pico logic analyzer)

This repo includes a Pico-based logic analyzer with an optimized USB CDC protocol and multiple run-length encoding (RLE) schemes for digital capture. The `pico_sdk_sigrok.c` implementation documents a compact nibble-based RLE stream for 4-channel digital capture and longer-run encodings (8–640 samples) that reduce bursty line transfer rates. The `SerialProtocol.md` and `AnalyzerDetails.md` docs further describe the RLE formats and when they improve throughput. These patterns are relevant for compressing low-entropy video lines or status telemetry over CDC without large RAM buffers.

## /opt/picovga (Pico VGA generation library)

PicoVGA demonstrates a stable pattern for running video timing generation on the RP2040’s second core while leaving core0 for application logic. The README explicitly calls out “uses only 2nd core,” and the library’s `StartVgaCore()`/`VgaInitReq()` APIs in `src/vga.h` show how it hands off the video pipeline to core1. This is relevant if we decide to move video capture or stream packaging into a dedicated core while keeping USB/network orchestration on core0.

## /opt/adb/trabular (ATtiny85 ADB firmware)

Trabular provides the AVR ADB keyboard/mouse/arb-device implementation we run
on the external ATtiny85. Its `serial.c` and `serial.h` define the SPI/USART
command protocol and polling cadence that the Pico must follow.

## /opt/adb/miscdocs (ADB PDFs + technotes)

This folder includes the Apple ADB Manager PDF, the hardware technote (HW01),
and Microchip AN591B. Together these provide the ADB protocol overview,
register semantics, and low-level timing references that complement trabular.

## Relationship to existing docs

- Timing and signal constraints remain grounded in `docs/mac_classic_video_capture_notes.md` and the PDFs under `docs/mac_classic_video_protocol/`.
- Protocol details for host tooling remain in `docs/protocol/usb_cdc_stream.md`.
- The /opt references above are intended as supplementary sources for future features (Mac-side validation tools, a Pico W web UI, RLE-friendly transport, and multi-core video pipelines) rather than changes to the current capture path.
